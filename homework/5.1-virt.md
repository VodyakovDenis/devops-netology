# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."
## Задача 1
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Решение:

Полная виртуализация подразумевает что в качестве ОС на хостовой машине выступает сам гипервизор, 
он же является "посредником" между аппаратной частью хоста и гостевой ОС. 
В паравиртуализации гипервизор является "посредником" между гостевой ОС и хостовой. 
В виртуализации на основе ОС (контейнеры), ОС сама создает пространство для контейнеров, при этом в контейнерах используется ядро хоста (гипервизор посути отсутствует).

## Задача 2
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

* физические сервера,
* паравиртуализация,
* виртуализация уровня ОС.

Условия использования:

* Высоконагруженная база данных, чувствительная к отказу.
* Различные web-приложения.
* Windows системы для использования бухгалтерским отделом.
* Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

Решение: 

* Высоконагруженная база данных, чувствительная к отказу - Физические сервера. Я думаю что правильный ответ будет примерно такой: Использование физических серверов позволит использовать 
все физические ресурсы машины, при этом не тратя ресурсы на обеспечение виртуализации.

* Различные web-приложения - виртуализация уровня ОС. Данный подход позволяет оперативно пересобирать части сервиса, при этом снижает время простоя, 
позволяет разработчикам независимо друг от друга производить доработки сервиса.

* Windows системы для использования бухгалтерским отделом - паравиртуализация. Исходя из лекции Hyper-V в данном случае является наиболее подходящим вариантом для windows систем. 
Но я под такие задачи использовалю преимущественно ProxMox (KVM), как вариант VmWare но тут все зависит от того какие лицензии, один ли физический сервер или их несклько, есть ли внешние 
системы хранения и т.д.

* физические сервера - Системы, выполняющие высокопроизводительные расчеты на GPU - Я думаю что правильный ответ будет: В случаях когда требуется высокопроизводительные системы лучше 
использовать физические сервера, т.к. есть вероятность сокращенияя производительноси GPU. 

P.S> Учитывая свой опыт ProxMox (KVM), хочется добавить: что ответ на первый и последний пункты в данный момент времени довольно спорны:
У видеокарт nvidia не плохо реализована технология VGPU и производительность там на уровне, есть специальные версии драйверов, 
часть видеокарт (Quadro, Tesla) изначально довольно хорошо оптимизированы под работу с KVM, так-же есть опыт запуска VGPU на RTX серии, 
на VmWare пока удавался вариант только проброса устройства внутрь ВМ. 
С видеокартами от AMD не доводилось пока поработать в этом ключе.
Что касается впринципе использования физического сервера в наше время в организациях любых масштабов -  не верное решение, даже если учесть мизерные сопутствующие потери ресурсов (просто смотря какое железо
мы берем за основу, любой более менее даже 10летний процессор довольно не плохо адаптирован к виртуализации), да плюсов - итого у виртуализации куда больше чем минусов.
Hyper-V - ну наверное все-же единственный плюс что специалистов особо учить не нужно (в лекции об этом говорилось :)) в остально не вижу смысла в данном продукте.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Решение: 

Похоже я во втором задании дал ответ :) под все 4 пункта подойдет ProxMox, учитывая возможности ProxMox Backup Server, и то что построен он на Debian, можно адаптироать практически под любые задачи, 
по пункту 4 LXC контейнеры которые имеются на борту - прекрастно справятся с данной задачей.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Решение:

Недостатки гетерогенной среды заключается в том что могут возникать проблемы с миграциями виртуальных машин, увеличиваются требования к персоналу т.к. 
необходим опыт работы с разными системами виртуализации, так-же масштабировать скорее всего станет сложнее.

Что касается создавал бы или нет, скорее нет чем да, не совсем могу себе представить чего нельзя реализовать в одной выбраной среде виртуализации пусть то KVM или ESXI (просто и там и там есть свои особенности).
